/*!
 * ASP.NET SignalR JavaScript Library v1.0.1
 * http://signalr.net/
 *
 * Copyright Microsoft Open Technologies, Inc. All rights reserved.
 * Licensed under the Apache 2.0
 * https://github.com/SignalR/SignalR/blob/master/LICENSE.md
 *
 */
(function(h,i){if(typeof(h)!=="function"){throw new Error("SignalR: jQuery not found. Please ensure jQuery is referenced before the SignalR.js file.")}if(!i.JSON){throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.")}var k,g,a=(i.document.readyState==="complete"),d=h(i),n={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},f=function(q,p){if(p===false){return}var o;if(typeof(i.console)==="undefined"){return}o="["+new Date().toTimeString()+"] SignalR: "+q;if(i.console.debug){i.console.debug(o)}else{if(i.console.log){i.console.log(o)}}},l=function(p,o,q){if(o===p.state){p.state=q;h(p).triggerHandler(n.onStateChanged,[{oldState:o,newState:q}]);return true}return false},c=function(o){return o.state===k.connectionState.disconnected},j=function(p){var o,q;if(!p._.configuredStopReconnectingTimeout){q=function(r){r.log("Couldn't reconnect within the configured timeout ("+r.disconnectTimeout+"ms), disconnecting.");r.stop(false,false)};p.reconnecting(function(){var r=this;if(r.state===k.connectionState.reconnecting){o=i.setTimeout(function(){q(r)},r.disconnectTimeout)}});p.stateChanged(function(r){if(r.oldState===k.connectionState.reconnecting){i.clearTimeout(o)}});p._.configuredStopReconnectingTimeout=true}};k=function(p,o,q){return new k.fn.init(p,o,q)};k.events=n;k.changeState=l;k.isDisconnecting=c;k.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4};k.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/hubs'><\/script>.")}};d.load(function(){a=true});function m(o,p){if(h.isArray(o)){for(var q=o.length-1;q>=0;q--){var r=o[q];if(h.type(o)!=="object"&&(h.type(r)!=="string"||!k.transports[r])){p.log("Invalid transport: "+r+", removing it from the transports list.");o.splice(q,1)}}if(o.length===0){p.log("No transports remain within the specified transport array.");o=null}}else{if(h.type(o)!=="object"&&!k.transports[o]&&o!=="auto"){p.log("Invalid transport: "+o.toString());o=null}}return o}function b(o){if(o==="http:"){return 80}else{if(o==="https:"){return 443}}}function e(p,o){if(o.match(/:\d+$/)){return o}else{return o+":"+b(p)}}k.fn=k.prototype={init:function(p,o,q){this.url=p;this.qs=o;this._={};if(typeof(q)==="boolean"){this.logging=q}},isCrossDomain:function(p,o){var q;p=h.trim(p);if(p.indexOf("http")!==0){return false}o=o||i.location;q=i.document.createElement("a");q.href=p;return q.protocol+e(q.protocol,q.host)!==o.protocol+e(o.protocol,o.host)},ajaxDataType:"json",logging:false,state:k.connectionState.disconnected,keepAliveData:{},reconnectDelay:2000,disconnectTimeout:30000,keepAliveWarnAt:2/3,start:function(t,v){var q=this,s={waitForPageLoad:true,transport:"auto",jsonp:false},o,p=q._deferral||h.Deferred(),u=i.document.createElement("a");if(h.type(t)==="function"){v=t}else{if(h.type(t)==="object"){h.extend(s,t);if(h.type(s.callback)==="function"){v=s.callback}}}s.transport=m(s.transport,q);if(!s.transport){throw new Error("SignalR: Invalid transport(s) specified, aborting start.")}if(!a&&s.waitForPageLoad===true){d.load(function(){q._deferral=p;q.start(t,v)});return p.promise()}j(q);if(l(q,k.connectionState.disconnected,k.connectionState.connecting)===false){p.resolve(q);return p.promise()}u.href=q.url;if(!u.protocol||u.protocol===":"){q.protocol=i.document.location.protocol;q.host=i.document.location.host;q.baseUrl=q.protocol+"//"+q.host}else{q.protocol=u.protocol;q.host=u.host;q.baseUrl=u.protocol+"//"+u.host}q.wsProtocol=q.protocol==="https:"?"wss://":"ws://";if(s.transport==="auto"&&s.jsonp===true){s.transport="longPolling"}if(this.isCrossDomain(q.url)){q.log("Auto detected cross domain url.");if(s.transport==="auto"){s.transport=["webSockets","longPolling"]}if(!s.jsonp){s.jsonp=!h.support.cors;if(s.jsonp){q.log("Using jsonp because this browser doesn't support CORS")}}}q.ajaxDataType=s.jsonp?"jsonp":"json";h(q).bind(n.onStart,function(x,w){if(h.type(v)==="function"){v.call(q)}p.resolve(q)});o=function(w,x){x=x||0;if(x>=w.length){if(!q.transport){h(q).triggerHandler(n.onError,"SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.");p.reject("SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.");q.stop()}return}var y=w[x],z=h.type(y)==="object"?y:k.transports[y];if(y.indexOf("_")===0){o(w,x+1);return}z.start(q,function(){if(z.supportsKeepAlive&&q.keepAliveData.activated){k.transports._logic.monitorKeepAlive(q)}q.transport=z;l(q,k.connectionState.connecting,k.connectionState.connected);h(q).triggerHandler(n.onStart);d.unload(function(){q.stop(false)})},function(){o(w,x+1)})};var r=q.url+"/negotiate";r=k.transports._logic.addQs(r,q);q.log("Negotiating with '"+r+"'.");h.ajax({url:r,global:false,cache:false,type:"GET",data:{},dataType:q.ajaxDataType,error:function(w){h(q).triggerHandler(n.onError,[w.responseText]);p.reject("SignalR: Error during negotiation request: "+w.responseText);q.stop()},success:function(y){var x=q.keepAliveData;q.appRelativeUrl=y.Url;q.id=y.ConnectionId;q.token=y.ConnectionToken;q.webSocketServerUrl=y.WebSocketServerUrl;q.disconnectTimeout=y.DisconnectTimeout*1000;if(y.KeepAliveTimeout){x.activated=true;x.timeout=y.KeepAliveTimeout*1000;x.timeoutWarning=x.timeout*q.keepAliveWarnAt;x.checkInterval=(x.timeout-x.timeoutWarning)/3}else{x.activated=false}if(!y.ProtocolVersion||y.ProtocolVersion!=="1.2"){h(q).triggerHandler(n.onError,"You are using a version of the client that isn't compatible with the server. Client version 1.2, server version "+y.ProtocolVersion+".");p.reject("You are using a version of the client that isn't compatible with the server. Client version 1.2, server version "+y.ProtocolVersion+".");return}h(q).triggerHandler(n.onStarting);var w=[],z=[];h.each(k.transports,function(A){if(A==="webSockets"&&!y.TryWebSockets){return true}z.push(A)});if(h.isArray(s.transport)){h.each(s.transport,function(){var A=this;if(h.type(A)==="object"||(h.type(A)==="string"&&h.inArray(""+A,z)>=0)){w.push(h.type(A)==="string"?""+A:A)}})}else{if(h.type(s.transport)==="object"||h.inArray(s.transport,z)>=0){w.push(s.transport)}else{w=z}}o(w)}});return p.promise()},starting:function(p){var o=this;h(o).bind(n.onStarting,function(r,q){p.call(o)});return o},send:function(p){var o=this;if(o.state===k.connectionState.disconnected){throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()")}if(o.state===k.connectionState.connecting){throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.")}o.transport.send(o,p);return o},received:function(p){var o=this;h(o).bind(n.onReceived,function(r,q){p.call(o,q)});return o},stateChanged:function(p){var o=this;h(o).bind(n.onStateChanged,function(r,q){p.call(o,q)});return o},error:function(p){var o=this;h(o).bind(n.onError,function(r,q){p.call(o,q)});return o},disconnected:function(p){var o=this;h(o).bind(n.onDisconnect,function(r,q){p.call(o)});return o},connectionSlow:function(p){var o=this;h(o).bind(n.onConnectionSlow,function(r,q){p.call(o)});return o},reconnecting:function(p){var o=this;h(o).bind(n.onReconnecting,function(r,q){p.call(o)});return o},reconnected:function(p){var o=this;h(o).bind(n.onReconnect,function(r,q){p.call(o)});return o},stop:function(q,o){var p=this;if(p.state===k.connectionState.disconnected){return}try{if(p.transport){if(o!==false){p.transport.abort(p,q)}if(p.transport.supportsKeepAlive&&p.keepAliveData.activated){k.transports._logic.stopMonitoringKeepAlive(p)}p.transport.stop(p);p.transport=null}h(p).triggerHandler(n.onDisconnect);delete p.messageId;delete p.groupsToken;delete p.id;delete p._deferral}finally{l(p,p.state,k.connectionState.disconnected)}return p},log:function(o){f(o,this.logging)}};k.fn.init.prototype=k.fn;k.noConflict=function(){if(h.connection===k){h.connection=g}return k};if(h.connection){g=h.connection}h.connection=h.signalR=k}(window.jQuery,window));(function(e,d){var a=e.signalR,b=e.signalR.events,c=e.signalR.changeState;a.transports={};function f(g){var h=g.keepAliveData,j,i;if(g.state===a.connectionState.connected){j=new Date();j.setTime(j-h.lastKeepAlive);i=j.getTime();if(i>=h.timeout){g.log("Keep alive timed out.  Notifying transport that connection has been lost.");g.transport.lostConnection(g)}else{if(i>=h.timeoutWarning){if(!h.userNotified){g.log("Keep alive has been missed, connection may be dead/slow.");e(g).triggerHandler(b.onConnectionSlow);h.userNotified=true}}else{h.userNotified=false}}}if(h.monitoring){d.setTimeout(function(){f(g)},h.checkInterval)}}a.transports._logic={pingServer:function(g,k){var i=k==="webSockets"?"":g.baseUrl,h=i+g.appRelativeUrl+"/ping",j=e.Deferred();h=this.addQs(h,g);e.ajax({url:h,global:false,cache:false,type:"GET",data:{},dataType:g.ajaxDataType,success:function(l){if(l.Response==="pong"){j.resolve()}else{j.reject("SignalR: Invalid ping response when pinging server: "+(l.responseText||l.statusText))}},error:function(l){j.reject("SignalR: Error pinging server: "+(l.responseText||l.statusText))}});return j.promise()},addQs:function(i,h){var g=i.indexOf("?")!==-1?"&":"?",j;if(!h.qs){return i}if(typeof(h.qs)==="object"){return i+g+e.param(h.qs)}if(typeof(h.qs)==="string"){j=h.qs.charAt(0);if(j==="?"||j==="&"){g=""}return i+g+h.qs}throw new Error("Connections query string property must be either a string or object.")},getUrl:function(h,m,l,k){var j=m==="webSockets"?"":h.baseUrl,i=j+h.appRelativeUrl,g="transport="+m+"&connectionToken="+d.encodeURIComponent(h.token);if(h.data){g+="&connectionData="+d.encodeURIComponent(h.data)}if(h.groupsToken){g+="&groupsToken="+d.encodeURIComponent(h.groupsToken)}if(!l){i=i+"/connect"}else{if(k){i=i+"/reconnect"}if(h.messageId){g+="&messageId="+d.encodeURIComponent(h.messageId)}}i+="?"+g;i=this.addQs(i,h);i+="&tid="+Math.floor(Math.random()*11);return i},maximizePersistentResponse:function(g){return{MessageId:g.C,Messages:g.M,Disconnect:typeof(g.D)!=="undefined"?true:false,TimedOut:typeof(g.T)!=="undefined"?true:false,LongPollDelay:g.L,GroupsToken:g.G}},updateGroups:function(h,g){if(g){h.groupsToken=g}},ajaxSend:function(g,i){var h=g.url+"/send?transport="+g.transport.name+"&connectionToken="+d.encodeURIComponent(g.token);h=this.addQs(h,g);return e.ajax({url:h,global:false,type:g.ajaxDataType==="jsonp"?"GET":"POST",dataType:g.ajaxDataType,data:{data:i},success:function(j){if(j){e(g).triggerHandler(b.onReceived,[j])}},error:function(j,k){if(k==="abort"||k==="parsererror"){return}e(g).triggerHandler(b.onError,[j])}})},ajaxAbort:function(g,i){if(typeof(g.transport)==="undefined"){return}i=typeof i==="undefined"?true:i;var h=g.url+"/abort?transport="+g.transport.name+"&connectionToken="+d.encodeURIComponent(g.token);h=this.addQs(h,g);e.ajax({url:h,async:i,timeout:1000,global:false,type:"POST",dataType:g.ajaxDataType,data:{}});g.log("Fired ajax abort async = "+i)},processMessages:function(i,g){var j;if(i.transport){var h=e(i);if(i.transport.supportsKeepAlive&&i.keepAliveData.activated){this.updateKeepAlive(i)}if(!g){return}j=this.maximizePersistentResponse(g);if(j.Disconnect){i.log("Disconnect command received from server");i.stop(false,false);return}this.updateGroups(i,j.GroupsToken);if(j.Messages){e.each(j.Messages,function(){h.triggerHandler(b.onReceived,[this])})}if(j.MessageId){i.messageId=j.MessageId}}},monitorKeepAlive:function(g){var h=g.keepAliveData,i=this;if(!h.monitoring){h.monitoring=true;i.updateKeepAlive(g);g.keepAliveData.reconnectKeepAliveUpdate=function(){i.updateKeepAlive(g)};e(g).bind(b.onReconnect,g.keepAliveData.reconnectKeepAliveUpdate);g.log("Now monitoring keep alive with a warning timeout of "+h.timeoutWarning+" and a connection lost timeout of "+h.timeout);f(g)}else{g.log("Tried to monitor keep alive but it's already being monitored")}},stopMonitoringKeepAlive:function(g){var h=g.keepAliveData;if(h.monitoring){h.monitoring=false;e(g).unbind(b.onReconnect,g.keepAliveData.reconnectKeepAliveUpdate);g.keepAliveData={};g.log("Stopping the monitoring of the keep alive")}},updateKeepAlive:function(g){g.keepAliveData.lastKeepAlive=new Date()},ensureReconnectingState:function(g){if(c(g,a.connectionState.connected,a.connectionState.reconnecting)===true){e(g).triggerHandler(b.onReconnecting)}return g.state===a.connectionState.reconnecting},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window));(function(e,d){var a=e.signalR,b=e.signalR.events,c=e.signalR.changeState,f=a.transports._logic;a.transports.webSockets={name:"webSockets",supportsKeepAlive:true,attemptingReconnect:false,currentSocketID:0,send:function(g,h){g.socket.send(h)},start:function(h,n,j){var i,m=false,k=this,l=!n,g=e(h);if(!d.WebSocket){j();return}if(!h.socket){if(h.webSocketServerUrl){i=h.webSocketServerUrl}else{i=h.wsProtocol+h.host}i+=f.getUrl(h,this.name,l);h.log("Connecting to websocket endpoint '"+i+"'");h.socket=new d.WebSocket(i);h.socket.ID=++k.currentSocketID;h.socket.onopen=function(){m=true;h.log("Websocket opened");if(k.attemptingReconnect){k.attemptingReconnect=false}if(n){n()}else{if(c(h,a.connectionState.reconnecting,a.connectionState.connected)===true){g.triggerHandler(b.onReconnect)}}};h.socket.onclose=function(o){if(this.ID===k.currentSocketID){if(!m){if(j){j()}else{if(l){k.reconnect(h)}}return}else{if(typeof o.wasClean!=="undefined"&&o.wasClean===false){e(h).triggerHandler(b.onError,[o.reason]);h.log("Unclean disconnect from websocket."+o.reason)}else{h.log("Websocket closed")}}k.reconnect(h)}};h.socket.onmessage=function(p){var q=d.JSON.parse(p.data),o=e(h);if(q){if(e.isEmptyObject(q)||q.M){f.processMessages(h,q)}else{o.triggerHandler(b.onReceived,[q])}}}}},reconnect:function(g){var h=this;if(g.state!==a.connectionState.disconnected){if(!h.attemptingReconnect){h.attemptingReconnect=true}d.setTimeout(function(){if(h.attemptingReconnect){h.stop(g)}if(f.ensureReconnectingState(g)){g.log("Websocket reconnecting");h.start(g)}},g.reconnectDelay)}},lostConnection:function(g){this.reconnect(g)},stop:function(g){if(g.socket!==null){g.log("Closing the Websocket");g.socket.close();g.socket=null}},abort:function(g){}}}(window.jQuery,window));(function(e,d){var a=e.signalR,b=e.signalR.events,c=e.signalR.changeState,f=a.transports._logic;a.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:true,reconnectTimeout:false,currentEventSourceID:0,timeOut:3000,start:function(h,n,j){var l=this,k=false,o=e(h),i=!n,g,p;if(h.eventSource){h.log("The connection already has an event source. Stopping it.");h.stop()}if(!d.EventSource){if(j){h.log("This browser doesn't support SSE.");j()}return}g=f.getUrl(h,this.name,i);try{h.log("Attempting to connect to SSE endpoint '"+g+"'");h.eventSource=new d.EventSource(g);h.eventSource.ID=++l.currentEventSourceID}catch(m){h.log("EventSource failed trying to connect with error "+m.Message);if(j){j()}else{o.triggerHandler(b.onError,[m]);if(i){l.reconnect(h)}}return}p=d.setTimeout(function(){if(k===false){h.log("EventSource timed out trying to connect");h.log("EventSource readyState: "+h.eventSource.readyState);if(!i){l.stop(h)}if(i){if(h.eventSource.readyState!==d.EventSource.CONNECTING&&h.eventSource.readyState!==d.EventSource.OPEN){l.reconnect(h)}}else{if(j){j()}}}},l.timeOut);h.eventSource.addEventListener("open",function(q){h.log("EventSource connected");if(p){d.clearTimeout(p)}if(l.reconnectTimeout){d.clearTimeout(l.reconnectTimeout)}if(k===false){k=true;if(n){n()}else{if(c(h,a.connectionState.reconnecting,a.connectionState.connected)===true){o.triggerHandler(b.onReconnect)}}}},false);h.eventSource.addEventListener("message",function(q){if(q.data==="initialized"){return}f.processMessages(h,d.JSON.parse(q.data))},false);h.eventSource.addEventListener("error",function(q){if(this.ID===l.currentEventSourceID){if(!k){if(j){j()}return}h.log("EventSource readyState: "+h.eventSource.readyState);if(q.eventPhase===d.EventSource.CLOSED){h.log("EventSource reconnecting due to the server connection ending");l.reconnect(h)}else{h.log("EventSource error");o.triggerHandler(b.onError)}}},false)},reconnect:function(g){var h=this;h.reconnectTimeout=d.setTimeout(function(){h.stop(g);if(f.ensureReconnectingState(g)){g.log("EventSource reconnecting");h.start(g)}},g.reconnectDelay)},lostConnection:function(g){this.reconnect(g)},send:function(g,h){f.ajaxSend(g,h)},stop:function(g){if(g&&g.eventSource){g.log("EventSource calling close()");g.eventSource.ID=null;g.eventSource.close();g.eventSource=null;delete g.eventSource}},abort:function(g,h){f.ajaxAbort(g,h)}}}(window.jQuery,window));(function(e,d){var a=e.signalR,b=e.signalR.events,c=e.signalR.changeState,f=a.transports._logic;a.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:true,timeOut:3000,start:function(g,m,i){var k=this,j=(f.foreverFrame.count+=1),h,l=e("<iframe data-signalr-connection-id='"+g.id+"' style='position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;' src=''></iframe>");if(d.EventSource){if(i){g.log("This browser supports SSE, skipping Forever Frame.");i()}return}h=f.getUrl(g,this.name);h+="&frameId="+j;e("body").append(l);l.prop("src",h);f.foreverFrame.connections[j]=g;g.log("Binding to iframe's readystatechange event.");l.bind("readystatechange",function(){if(e.inArray(this.readyState,["loaded","complete"])>=0){g.log("Forever frame iframe readyState changed to "+this.readyState+", reconnecting");k.reconnect(g)}});g.frame=l[0];g.frameId=j;if(m){g.onSuccess=m}d.setTimeout(function(){if(g.onSuccess){g.log("Failed to connect using forever frame source, it timed out after "+k.timeOut+"ms.");k.stop(g);if(i){i()}}},k.timeOut)},reconnect:function(g){var h=this;d.setTimeout(function(){if(g.frame&&f.ensureReconnectingState(g)){var j=g.frame,i=f.getUrl(g,h.name,true)+"&frameId="+g.frameId;g.log("Updating iframe src to '"+i+"'.");j.src=i}},g.reconnectDelay)},lostConnection:function(g){this.reconnect(g)},send:function(g,h){f.ajaxSend(g,h)},receive:function(h,i){var g;f.processMessages(h,i);h.frameMessageCount=(h.frameMessageCount||0)+1;if(h.frameMessageCount>50){h.frameMessageCount=0;g=h.frame.contentWindow||h.frame.contentDocument;if(g&&g.document){e("body",g.document).empty()}}},stop:function(h){var g=null;if(h.frame){if(h.frame.stop){h.frame.stop()}else{try{g=h.frame.contentWindow||h.frame.contentDocument;if(g.document&&g.document.execCommand){g.document.execCommand("Stop")}}catch(i){h.log("SignalR: Error occured when stopping foreverFrame transport. Message = "+i.message)}}e(h.frame).remove();delete f.foreverFrame.connections[h.frameId];h.frame=null;h.frameId=null;delete h.frame;delete h.frameId;h.log("Stopping forever frame")}},abort:function(g,h){f.ajaxAbort(g,h)},getConnection:function(g){return f.foreverFrame.connections[g]},started:function(g){if(g.onSuccess){g.onSuccess();g.onSuccess=null;delete g.onSuccess}else{if(c(g,a.connectionState.reconnecting,a.connectionState.connected)===true){e(g).triggerHandler(b.onReconnect)}}}}}(window.jQuery,window));(function(f,e){var a=f.signalR,c=f.signalR.events,d=f.signalR.changeState,b=f.signalR.isDisconnecting,g=a.transports._logic;a.transports.longPolling={name:"longPolling",supportsKeepAlive:false,reconnectDelay:3000,init:function(h,l){var k=this,j,i=function(m){if(b(h)===false){h.log("SignalR: Server ping failed because '"+m+"', re-trying ping.");e.setTimeout(j,k.reconnectDelay)}};h.log("SignalR: Initializing long polling connection with server.");j=function(){g.pingServer(h,k.name).done(l).fail(i)};j()},start:function(i,m,j){var l=this,k=false,h=function(){if(k){return}k=true;m();i.log("Longpolling connected")};if(i.pollXhr){i.log("Polling xhr requests already exists, aborting.");i.stop()}l.init(i,function(){i.messageId=null;e.setTimeout(function(){(function n(o,s){var r=o.messageId,p=(r===null),t=!p,q=g.getUrl(o,l.name,t,s);if(b(o)===true){return}i.log("Attempting to connect to '"+q+"' using longPolling.");o.pollXhr=f.ajax({url:q,global:false,cache:false,type:"GET",dataType:i.ajaxDataType,success:function(u){var v=0,w;h();if(u){w=g.maximizePersistentResponse(u)}g.processMessages(o,u);if(w&&f.type(w.LongPollDelay)==="number"){v=w.LongPollDelay}if(w&&w.Disconnect){return}if(b(o)===true){return}if(v>0){e.setTimeout(function(){n(o,false)},v)}else{n(o,false)}},error:function(u,v){if(v==="abort"){i.log("Aborted xhr requst.");return}if(i.state!==a.connectionState.reconnecting){i.log("An error occurred using longPolling. Status = "+v+". "+u.responseText);f(o).triggerHandler(c.onError,[u.responseText])}g.ensureReconnectingState(o);l.init(o,function(){n(o,true)})}});if(t&&s===true){if(d(i,a.connectionState.reconnecting,a.connectionState.connected)===true){i.log("Raising the reconnect event");f(o).triggerHandler(c.onReconnect)}}}(i));e.setTimeout(function(){h()},250)},250)})},lostConnection:function(h){throw new Error("Lost Connection not handled for LongPolling")},send:function(h,i){g.ajaxSend(h,i)},stop:function(h){if(h.pollXhr){h.pollXhr.abort();h.pollXhr=null;delete h.pollXhr}},abort:function(h,i){g.ajaxAbort(h,i)}}}(window.jQuery,window));(function(f,g){var a=0,h={},i=".hubProxy";function d(k){return k+i}if(!Array.prototype.hasOwnProperty("map")){Array.prototype.map=function(m,o){var l=this,n,p=l.length,k=[];for(n=0;n<p;n+=1){if(l.hasOwnProperty(n)){k[n]=m.call(o,l[n],n,l)}}return k}}function c(k){return f.isFunction(k)?null:(f.type(k)==="undefined"?null:k)}function b(l){for(var k in l){if(l.hasOwnProperty(k)){return true}}return false}function e(l,k){return new e.fn.init(l,k)}e.fn=e.prototype={init:function(k,l){this.state={};this.connection=k;this.hubName=l;this._={callbackMap:{}}},hasSubscriptions:function(){return b(this._.callbackMap)},on:function(l,n){var k=this,m=k._.callbackMap;l=l.toLowerCase();if(!m[l]){m[l]={}}m[l][n]=function(p,o){n.apply(k,o)};f(k).bind(d(l),m[l][n]);return k},off:function(m,o){var l=this,n=l._.callbackMap,k;m=m.toLowerCase();k=n[m];if(k){if(k[o]){f(l).unbind(d(m),k[o]);delete k[o];if(!b(k)){delete n[m]}}else{if(!o){f(l).unbind(d(m));delete n[m]}}}return l},invoke:function(l){var k=this,m=f.makeArray(arguments).slice(1),n=m.map(c),o={H:k.hubName,M:l,A:n,I:a},p=f.Deferred(),q=function(s){var r=k._maximizeHubResponse(s);f.extend(k.state,r.State);if(r.Error){if(r.StackTrace){k.connection.log(r.Error+"\n"+r.StackTrace)}p.rejectWith(k,[r.Error])}else{p.resolveWith(k,[r.Result])}};h[a.toString()]={scope:k,method:q};a+=1;if(!f.isEmptyObject(k.state)){o.S=k.state}k.connection.send(g.JSON.stringify(o));return p.promise()},_maximizeHubResponse:function(k){return{State:k.S,Result:k.R,Id:k.I,Error:k.E,StackTrace:k.T}}};e.fn.init.prototype=e.fn;function j(l,k){var m={qs:null,logging:false,useDefaultPath:true};f.extend(m,k);if(!l||m.useDefaultPath){l=(l||"")+"/signalr"}return new j.fn.init(l,m)}j.fn=j.prototype=f.connection();j.fn.init=function(m,l){var n={qs:null,logging:false,useDefaultPath:true},k=this;f.extend(n,l);f.signalR.fn.init.call(k,m,n.qs,n.logging);k.proxies={};k.received(function(o){var s,r,p,u,t,q;if(!o){return}if(typeof(o.I)!=="undefined"){p=o.I.toString();u=h[p];if(u){h[p]=null;delete h[p];u.method.call(u.scope,o)}}else{s=this._maximizeClientHubInvocation(o);k.log("Triggering client hub event '"+s.Method+"' on hub '"+s.Hub+"'.");t=s.Hub.toLowerCase();q=s.Method.toLowerCase();r=this.proxies[t];f.extend(r.state,s.State);f(r).triggerHandler(d(q),[s.Args])}})};j.fn._maximizeClientHubInvocation=function(k){return{Hub:k.H,Method:k.M,Args:k.A,State:k.S}};j.fn._registerSubscribedHubs=function(){if(!this._subscribedToHubs){this._subscribedToHubs=true;this.starting(function(){var k=[];f.each(this.proxies,function(l){if(this.hasSubscriptions()){k.push({name:l})}});this.data=g.JSON.stringify(k)})}};j.fn.createHubProxy=function(l){l=l.toLowerCase();var k=this.proxies[l];if(!k){k=e(this,l);this.proxies[l]=k}this._registerSubscribedHubs();return k};j.fn.init.prototype=j.fn;f.hubConnection=j}(window.jQuery,window));(function(a){a.signalR.version="1.0.1"}(window.jQuery));